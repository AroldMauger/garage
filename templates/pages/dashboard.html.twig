<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Garage Trempu - Gestion RDV</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
        {% block stylesheets %}
        {% endblock %}

        {% block javascripts %}
{% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
          <link rel="stylesheet" href="app.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Anton&family=Manrope:wght@400;500;700&family=Noto+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
        <script src="https://kit.fontawesome.com/70fabb1b7e.js" crossorigin="anonymous"></script>
    </head>
    <body>
        <header class="header-dashboard">
            <img class="logo-dashboard" src="logo-garage.png" alt="logo du garage">
            <nav class="nav-dashboard">
                <a href="/new_appointment">Nouveau RDV</a>
                <a href="">Historique RDV</a>
                <a href="/logout">Déconnexion</a>
            </nav>
        </header>
        <main class="main-dashboard">
            <div class="rdv-filter_container">
                <span>RENDEZ-VOUS À VENIR</span>
            </div>
            <section class="rdv-all-cards">

                {% for appointment in appointments %}
                <div class="rdv-card_container">
                    <span class="rdv-date">{{ appointment.date|date('Y-m-d') }}</span>
                    <div class="rdv-card">
                        <p class="rdv-time">{{ appointment.date|date('h:i') }}</p>
                        <p class="rdv-purpose">{{ appointment.reason }}</p>
                        <div class="rdv-owner_container">
                            <p class="rdv-car">{{ appointment.car }}</p>
                            <p class="rdv-owner">{{ appointment.customer }}</p>
                        </div>
                    </div>
                    <button class="rdv-button-modifier">GÉRER LE RDV</button>
                </div>

                <!-- ICI LE CODE DE LA MODALE-->
                <div class="modal-dashboard">
                    <div class="closebuttonmodal_container">
                        <button class="closebutton_modal orange-bg">X</button>
                    </div>
                    <div class="main-container_modal">
                        <section class="section-modal">
                            <div class="cutted-container">
                                <div class="half-div-container">
                                    <span class="label-modal">Date du RDV</span>
                                    <span class="data-modal"> {{ appointment.date|date('Y-m-d') }}</span>
                                </div>
                                <div class="half-div-container">
                                    <span class="label-modal">Heure</span>
                                    <span class="data-modal">{{ appointment.date|date('h:i') }}</span>
                                </div>
                            </div>
                            <div class="half-div-container">
                                <span class="label-modal">Motif du RDV</span>
                                <span class="data-modal"> {{ appointment.reason }}</span>
                            </div>
                            <div class="half-div-container">
                                <span class="label-modal">Véhicule</span>
                                <span class="data-modal"> {{ appointment.car }}</span>
                            </div>
                            <div class="cutted-container">
                                <div class="half-div-container">
                                    <span class="label-modal">Client</span>
                                    <span class="data-modal"> {{ appointment.customer }}</span>
                                </div>
                                <div class="half-div-container">
                                    <span class="label-modal">Téléphone</span>
                                    <span class="data-modal">{{ appointment.phone }}</span>
                                </div>
                            </div>
                        </section>
                        <aside class="aside-modal">
                            <button id="finish-button" class="button-modal"> RDV TERMINÉ</button>
                            <button id="modify-button" class="button-modal">MODIFIER</button>
                            <button id="delete-button" class="button-modal">SUPPRIMER</button>
                        </aside>
                    </div>                  
                </div>
               
            {% endfor %}
                
            </section>
        </main>
    </body>
    <script src="modal.js"></script>

</html>
